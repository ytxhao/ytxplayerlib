diff -urN paho.mqtt.c-1.3.9/src/CMakeLists.txt paho.mqtt.c-1.3.9.bak/src/CMakeLists.txt
--- paho.mqtt.c-1.3.9/src/CMakeLists.txt	2021-09-24 17:11:38.000000000 +0800
+++ paho.mqtt.c-1.3.9.bak/src/CMakeLists.txt	2021-09-24 16:48:48.000000000 +0800
@@ -60,7 +60,8 @@
     SET(LIBS_SYSTEM ws2_32 crypt32 RpcRT4)
 ELSEIF (UNIX)
     IF(CMAKE_SYSTEM_NAME MATCHES "Linux")
-        SET(LIBS_SYSTEM c dl pthread rt)
+        # SET(LIBS_SYSTEM c dl pthread rt)
+        SET(LIBS_SYSTEM c dl z)
         # anl is only available with glibc so check if it is found before using
         # it or build will fail on uclibc or musl
         FIND_LIBRARY(LIB_ANL anl)
